"use strict";function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _get=function(e,t,n){for(var a=!0;a;){var s=e,i=t,r=n;o=l=u=void 0,a=!1,null===s&&(s=Function.prototype);var o=Object.getOwnPropertyDescriptor(s,i);if(void 0!==o){if("value"in o)return o.value;var u=o.get;return void 0===u?void 0:u.call(r)}var l=Object.getPrototypeOf(s);if(null===l)return void 0;e=l,t=i,n=r,a=!0}},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),HomeController=function(){function e(t){_classCallCheck(this,e),this.presenter=t,this.patchDetails=null,this.pedalboard=null,this.inicializarComponentes()}return _createClass(e,[{key:"inicializarComponentes",value:function(){this.patchDetails=new PatchDetailsComponent("patchDetails"),this.pedalboard=new PedalboardComponent("pedalboard",this)}},{key:"setTitle",value:function(e){this.patchDetails.setName(e)}},{key:"active",value:function(e){this.pedalboard.pedals[e].active()}},{key:"disable",value:function(e){this.pedalboard.pedals[e].disable()}},{key:"toogleEffectOf",value:function(e){this.presenter.toogleEffectOf(e)}}]),e}(),PatchDetailsComponent=function(){function e(t){_classCallCheck(this,e);var n=document.getElementById(t);this.nameElement=n.querySelector("#patchName"),this.numberElement=n.querySelector("#patchNumber")}return _createClass(e,[{key:"setName",value:function(e){this.nameElement.innerHTML=e}},{key:"setNumber",value:function(e){this.numberElement.innerHTML=e}}]),e}(),PedalboardComponent=function e(t,n){var a=this;_classCallCheck(this,e),this.pedals=document.getElementById(t).querySelectorAll("guitar-pedal");for(var s=function(e){var t=a.pedals[e];t.click=function(){return n.toogleEffectOf(e)}},i=0;i<this.pedals.length;i++)s(i)},Pagina=function(){function e(t){_classCallCheck(this,e),this.router=t}return _createClass(e,[{key:"barra",value:function(){return this.router.barra}},{key:"router",value:function(){return this.router}},{key:"inicializar",value:function(){}},{key:"finalizar",value:function(){}}]),e}(),HomePagina=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.controller=new HomeController(this),this.pedal=null}return _inherits(t,e),_createClass(t,[{key:"inicializar",value:function(e){this.pedal=PedalControllerFactory.searchPedal(),this.pedal.on(),this.pedal.addListenner(this),this.pedal.send(ZoomGSeriesMessages.REQUEST_CURRENT_PATCH_NUMBER())}},{key:"finalizar",value:function(){this.pedal.off()}},{key:"onChange",value:function(e){var t=this;e.get(CommonCause.ACTIVE_EFFECT).forEach(function(e){return t.updateEffect(e,CommonCause.ACTIVE_EFFECT)}),e.get(CommonCause.DISABLE_EFFECT).forEach(function(e){return t.updateEffect(e,CommonCause.DISABLE_EFFECT)}),e.get(CommonCause.TO_PATCH).forEach(function(e){return t.setPatch(e)}),e.get(CommonCause.SET_PARAM).forEach(function(e){return console.log(pedal)}),e.get(CommonCause.PATCH_NAME).forEach(function(e){t.controller.setTitle(e.details.value)})}},{key:"updateEffect",value:function(e,t){var n=e.details.patch,a=e.details.effect;n==this.pedal.multistomp().getIdCurrentPatch()&&(t==CommonCause.ACTIVE_EFFECT?this.controller.active(a):this.controller.disable(a))}},{key:"setPatch",value:function(e){var t=e.details.patch;this.pedal.send(ZoomGSeriesMessages.REQUEST_SPECIFIC_PATCH_DETAILS(t))}},{key:"toogleEffectOf",value:function(e){this.pedal.toogleEffect(e)}}]),t}(Pagina),PaginaRouter=function(){function e(){_classCallCheck(this,e),this.historico=new Historico,this.paginas={},this._adicionarPaginasEm(this.paginas)}return _createClass(e,[{key:"_adicionarPaginasEm",value:function(e){e.home=new HomePagina(this)}},{key:"_irParaPagina",value:function(e,t){var n=this.historico.atual();n&&n.pagina.finalizar(),n=new PaginaHistorico(this.paginas[e],t),this.historico.atual(n),n.pagina.inicializar(t)}},{key:"irParaPaginaHome",value:function(){this._irParaPagina("home")}},{key:"irParaPaginaAnterior",value:function(){if(!(this.historico.size()<=1)){var e=this.historico.voltar();e.pagina.finalizar(),e=this.historico.atual(),e.pagina.inicializar(e.parametros)}}}]),e}(),Historico=function(){function e(){_classCallCheck(this,e),this.pilha=new Pilha}return _createClass(e,[{key:"atual",value:function(e){return e?void this.pilha.add(e):this.pilha.last()}},{key:"anterior",value:function(){return this.pilha.last()}},{key:"voltar",value:function(){return this.pilha.pop()}},{key:"size",value:function(){return this.pilha.size()}}]),e}(),Pilha=function(){function e(){_classCallCheck(this,e),this.lista=[]}return _createClass(e,[{key:"add",value:function(e){this.lista.push(e)}},{key:"last",value:function(){return this.lista[this.lista.length-1]}},{key:"pop",value:function(){return this.lista.pop()}},{key:"size",value:function(){return this.lista.length}}]),e}(),PaginaHistorico=function t(e,n){_classCallCheck(this,t),this.pagina=e,this.parametros=n},Includer=function(){function e(t){_classCallCheck(this,e);var n=document.querySelector('link[rel="import"][href^="'+t+'"]');this.template=n["import"].querySelector("template")}return _createClass(e,[{key:"gerarEm",value:function(e){var t=document.importNode(this.template.content,!0);e.appendChild(t)}}]),e}(),PedalGerador=function(){function e(){_classCallCheck(this,e),this.pedals=this.getContentOf("src/app/template/pedal/zoom-g3v2.html"),console.log(this.pedals)}return _createClass(e,[{key:"getContentOf",value:function(e){return document.querySelector('link[rel="import"][href^="'+e+'"]')}},{key:"generateFor",value:function(e){var t=this.knobsTemplateOf(e),n=document.createElement("guitar-pedal"),a=document.importNode(t.content,!0);return n.addKnobs(a),n.name=e,n}},{key:"knobsTemplateOf",value:function(e){return this.pedals["import"].querySelector('template[data-name="'+e+'"]')}}]),e}(),ImplemetationError=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),t}(Error),DeviceNotFoundError=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),t}(Error),BinarioUtil=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"byteArrayToHex",value:function(e){var t=" ",n=!0,a=!1,s=void 0;try{for(var i,r=e[Symbol.iterator]();!(n=(i=r.next()).done);n=!0){var o=i.value;t+=o.toString(16).toUpperCase()+" "}}catch(u){a=!0,s=u}finally{try{!n&&r["return"]&&r["return"]()}finally{if(a)throw s}}return"["+t+"]"}}]),e}(),MidiMessageTester=function(){function e(t){_classCallCheck(this,e),this.message=t}return _createClass(e,[{key:"init",value:function(){return this.tests=new Tests,this}},{key:"test",value:function(){return this.tests.finalResult()}},{key:"isLessThen",value:function(e){return this.tests.add(this.message.length<e.length),this}},{key:"startingWith",value:function(e){if(!(e.length<=this.message.length))return this.tests.add(!1),this;for(var t=0;t<e.length;t++)e[t]!=this.message[t]&&this.tests.add(!1);return this.tests.add(!0),this}},{key:"sizeIs",value:function(e){return this.tests.add(this.message.length==e),this}},{key:"endingWith",value:function(e){if(!(e.length<=this.message.length))return this.tests.add(!1),this;for(var t=1;t<=e.length;t++)e[e.length-t]!=this.message[this.message.length-t]&&this.tests.add(!1);return this.tests.add(!0),this}}]),e}(),Tests=function(){function e(){_classCallCheck(this,e),this.result=!0}return _createClass(e,[{key:"add",value:function(e){0!=this.result&&(this.result=e)}},{key:"finalResult",value:function(){return this.result}}]),e}(),Optional=function(){function e(t){_classCallCheck(this,e),this.content=t}return _createClass(e,[{key:"isPresent",value:function(){return null!==this.content}},{key:"get",value:function(){if(!this.isPresent())throw new Error("NullPointerException");return this.content}}],[{key:"of",value:function(t){return new e(t)}},{key:"empty",value:function(){return new e(null)}}]),e}(),MultistompChanger=function(){function e(t){_classCallCheck(this,e),this.controller=t}return _createClass(e,[{key:"attempt",value:function(e){if(e.is(CommonCause.TO_PATCH))this.controller.toPatch(e.details.patch);else if(e.is(CommonCause.ACTIVE_EFFECT)&&e.details.patch==Details.NULL)this.controller.activeEffect(e.details.effect);else if(e.is(CommonCause.ACTIVE_EFFECT)&&e.details.patch!=Details.NULL)this.controller.multistomp().patchs[e.details.patch].effects[e.details.effect].active();else if(e.is(CommonCause.DISABLE_EFFECT)&&e.details.patch==Details.NULL)this.controller.disableEffect(e.details.effect);else if(e.is(CommonCause.DISABLE_EFFECT)&&e.details.patch!=Details.NULL)this.controller.multistomp().patchs[e.details.patch].effects[e.details.effect].disable();else if(e.is(CommonCause.SET_PARAM)){var t=e.details.effect,n=e.details.param,a=e.details.value;this.controller.setEffectParam(t,n,a)}else e.is(CommonCause.PATCH_NAME)&&(this.controller.multistomp().currentPatch().name=e.details.value)}}]),e}(),PedalCompany=function(){function e(t){_classCallCheck(this,e),this.name=t}return _createClass(e,[{key:"getName",value:function(){return this.name}},{key:"toString",value:function(){return this.name}}]),e}();PedalCompany.NULL=new PedalCompany("Unknown Company"),PedalCompany.ZoomCorp=new PedalCompany("Zoom Corporation"),PedalCompany.Line6=new PedalCompany("Line 6"),PedalCompany.Roland=new PedalCompany("Roland Corporation");var PedalController=function(){function e(t){_classCallCheck(this,e),this.controllerListenners=new Array,this.realMultistompListenners=new Array,this.realChange=!1,this.started=!1,this.pedal=t,this.connection=new MidiConnection(t,t.getPedalType()),this.connection.setListenner(this),this.pedal.addListenner(this),this.controllerListenners.push(new Log("Controller")),this.realMultistompListenners.push(new Log("Real Multistomp"))}return _createClass(e,[{key:"on",value:function(){this.started||(this.started=!0,this.connection.start(),this.connection.send(this.pedal.start()),this.realChange=!1)}},{key:"off",value:function(){this.started&&(this.started=!1,this.connection.stop())}},{key:"hasStarted",value:function(){return this.started}},{key:"multistomp",value:function(){return this.pedal}},{key:"nextPatch",value:function(){this.pedal.nextPatch()}},{key:"beforePatch",value:function(){this.pedal.beforePatch()}},{key:"toPatch",value:function(e){this.pedal.toPatch(e)}},{key:"toogleEffect",value:function(e){this.pedal.currentPatch().effects[e].toggle()}},{key:"hasActived",value:function(e){return this.pedal.currentPatch().effects[e].hasActived()}},{key:"activeEffect",value:function(e){this.pedal.currentPatch().effects[e].active()}},{key:"disableEffect",value:function(e){this.pedal.currentPatch().effects[e].disable()}},{key:"setEffectParam",value:function(e,t,n){this.pedal.currentPatch().effects[e].params[t].setValue(n)}},{key:"getAmountEffects",value:function(){return this.pedal.currentPatch().effects.length}},{key:"addListenner",value:function(e){this.pedal.addListenner(e)}},{key:"toString",value:function(){var e="State: ";return e+=started?"On":"Off",e+="\n",e+this.pedal.toString()}},{key:"onChange",value:function(e){return this.realChange?void(this.realChange=!1):(this.connection.send(e),void this.notify(this.controllerListenners,e))}},{key:"update",value:function(e){this.realChange=!0;var t=new MultistompChanger(this);e.forEach(function(e){return t.attempt(e)}),this.notify(this.realMultistompListenners,e)}},{key:"notify",value:function(e,t){var n=!0,a=!1,s=void 0;try{for(var i,r=e[Symbol.iterator]();!(n=(i=r.next()).done);n=!0){var o=i.value;o.onChange(t)}}catch(u){a=!0,s=u}finally{try{!n&&r["return"]&&r["return"]()}finally{if(a)throw s}}}},{key:"sendMessage",value:function(e){this.connection.send(e)}},{key:"send",value:function(e){this.connection.send(e),this.realChange=!0}}]),e}(),PedalControllerFactory=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"searchPedal",value:function(){var e=!0,t=!1,n=void 0;try{for(var a,s=PedalType.values[Symbol.iterator]();!(e=(a=s.next()).done);e=!0){var i=a.value;if(this.isConnected(i))return this.getPedal(i)}}catch(r){t=!0,n=r}finally{try{!e&&s["return"]&&s["return"]()}finally{if(t)throw n}}return new PedalController(new NullMultistomp)}},{key:"isConnected",value:function(e){return 0!=MidiTransmition.findDevices(e).length}},{key:"getPedal",value:function(e){var t=void 0,n=e.getCompany();return t=n==PedalCompany.ZoomCorp?(new ZoomMultistompFactory).generate(e):n==PedalCompany.Roland?new NullMultistomp:(n==PedalCompany.Line6,new NullMultistomp),new PedalController(t)}}]),e}(),MidiConnection=function(){function e(t,n){_classCallCheck(this,e),this.listenner=Optional.empty(),this.multistomp=t,this.sender=new MidiSender(n),this.reader=new MidiReader(n),this.reader.setListenner(this),this.encoder=MessageEncoderFactory.For(n),this.decoder=MessageDecoderFactory.For(n)}return _createClass(e,[{key:"start",value:function(){this.sender.start(),this.reader.start()}},{key:"stop",value:function(){this.sender.stop(),this.reader.stop()}},{key:"send",value:function(e){var t=!0,n=!1,a=void 0;try{for(var s,i=this.generateMidiMessages(e)[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var r=s.value;this.sendMidiMessage(r)}}catch(o){n=!0,a=o}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw a}}}},{key:"generateMidiMessages",value:function(e){return this.encoder.encode(e)}},{key:"sendMidiMessage",value:function(e){console.log("MIDI sended: "),console.log(" "+BinarioUtil.byteArrayToHex(e)),this.sender.send(e)}},{key:"setListenner",value:function(e){this.listenner=Optional.of(e)}},{key:"onDataReceived",value:function(e){if(console.log("MIDI received: "),console.log(" "+BinarioUtil.byteArrayToHex(e)),!this.decoder.isForThis(e))return void console.log(" unknown ");var t=this.decoder.decode(e,this.multistomp);this.listenner.isPresent()&&this.listenner.get().update(t)}}]),e}();MidiConnection.OnUpdateListenner=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"update",value:function(e){}}]),e}();var MessageDecoderFactory=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"For",value:function(e){if(PedalType.G3==e)return new ZoomGSeriesMessageDecoder;throw new Error("MessageDecoder not found for: "+e)}}]),e}(),MessageEncoderFactory=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"For",value:function(e){if(PedalType.G3==e)return new ZoomGSeriesMessageEncoder;throw new Error("MessageEncoder not found for: "+e)}}]),e}(),MidiTransmition=function(){function e(t){_classCallCheck(this,e);var n=e.findDevices(t),a=this.locateDeviceIn(n);if(!a.isPresent())throw console.log("Midi "+this.deviceType()+" device not found for: "+t+" ("+t.getUSBName()+")"),new DeviceNotFoundError("Midi "+this.deviceType()+" device not found for: "+t+" ("+t.getUSBName()+")");this.device=a.get()}return _createClass(e,[{key:"locateDeviceIn",value:function(e){var t=!0,n=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var r=s.value;if(this.isThis(r))return Optional.of(r)}}catch(o){n=!0,a=o}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw a}}return Optional.empty()}},{key:"isThis",value:function(e){}},{key:"deviceType",value:function(){}},{key:"start",value:function(){this.device.open()}},{key:"stop",value:function(){this.device.close()}}],[{key:"findDevices",value:function(e){var t=new Array,n=void 0,a=!0,s=!1,i=void 0;try{for(var r,o=midiSystem.midiDevices[Symbol.iterator]();!(a=(r=o.next()).done);a=!0)n=r.value,n.name.includes(e.USBName)&&t.push(n)}catch(u){s=!0,i=u}finally{try{!a&&o["return"]&&o["return"]()}finally{if(s)throw i}}return t}}]),e}(),MidiSystem=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"onStart",value:function(e){this.midiInputs=e.inputs,this.midiOutputs=e.outputs,console.log("Connected")}},{key:"onError",value:function(e){console.log(e),console.log("Deu pau :/")}},{key:"midiDevices",get:function(){var e=[],t=!0,n=!1,a=void 0;try{for(var s,i=this.midiInputs.values()[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var r=s.value;e.push(r)}}catch(o){n=!0,a=o}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw a}}var u=!0,l=!1,c=void 0;try{for(var h,f=this.midiOutputs.values()[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var C=h.value;e.push(C)}}catch(o){l=!0,c=o}finally{try{!u&&f["return"]&&f["return"]()}finally{if(l)throw c}}return e}}]),e}(),midiSystem=new MidiSystem;window.addEventListener("load",function(){navigator.requestMIDIAccess({sysex:!0}).then(midiSystem.onStart.bind(midiSystem),midiSystem.onError.bind(midiSystem))});var MidiReader=function(e){function t(e){var n=this;_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.device.onmidimessage=function(e){return n.send(e)}}return _inherits(t,e),_createClass(t,[{key:"isThis",value:function(e){return e.type==this.deviceType()}},{key:"deviceType",value:function(){return"input"}},{key:"setListenner",value:function(e){this.listenner=e}},{key:"send",value:function(e){this.listenner.onDataReceived(e.data)}}]),t}(MidiTransmition),MidiSender=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return _inherits(t,e),_createClass(t,[{key:"isThis",value:function(e){return e.type==this.deviceType()}},{key:"deviceType",value:function(){return"output"}},{key:"send",value:function(e){this.device.send(e)}}]),t}(MidiTransmition),PedalType=function(){function e(t,n,a){_classCallCheck(this,e),this.name=t,this.company=n,this.USBName=a,e.values.push(this)}return _createClass(e,null,[{key:"values",value:new Array,enumerable:!0}]),_createClass(e,[{key:"getId",value:function(){return this.id}},{key:"getCompany",value:function(){return this.company}},{key:"toString",value:function(){return this.name+" - "+this.company.toString()}},{key:"getUSBName",value:function(){return this.USBName}}]),e}();PedalType.Null=new PedalType("Unknown Pedal",PedalCompany.NULL,"Pedal Unknown is unimplemented"),PedalType.G2Nu=new PedalType("Zoom G2Nu",PedalCompany.ZoomCorp,"G2Nu/G2.1Nu"),PedalType.G3=new PedalType("Zoom G3v2.0",PedalCompany.ZoomCorp,"ZOOM G Series");var CommonCause=function n(){_classCallCheck(this,n)};CommonCause.TO_PATCH="TO_PATCH",CommonCause.GENERAL_VOLUME="GENERAL_VOLUME",CommonCause.PATCH_VOLUME="PATCH_VOLUME",CommonCause.PATCH_NAME="PATCH_NAME",CommonCause.ACTIVE_EFFECT="ACTIVE_EFFECT",CommonCause.DISABLE_EFFECT="DISABLE_EFFECT",CommonCause.SET_PARAM="SET_PARAM";var Messages=function(){function e(){_classCallCheck(this,e),this.messages=new Array}return _createClass(e,null,[{key:"Empty",value:function(){return new e}},{key:"For",value:function(){var t=new e,n=!0,a=!1,s=void 0;try{for(var i=arguments.length,r=Array(i),o=0;i>o;o++)r[o]=arguments[o];for(var u,l=r[Symbol.iterator]();!(n=(u=l.next()).done);n=!0){var c=u.value;t.addMessage(c)}}catch(h){a=!0,s=h}finally{try{!n&&l["return"]&&l["return"]()}finally{if(a)throw s}}return t}}]),_createClass(e,[{key:"addCause",value:function(e){this.addCause(e,new Details)}},{key:"addCauseDetails",value:function(e,t){this.addMessage(new Message(e,t))}},{key:"addMessage",value:function(e){this.messages.push(e)}},{key:"concatWith",value:function(e){var t=this;e.forEach(function(e){return t.addMessage(e)})}},{key:Symbol.iterator,value:function(){return this.messages[Symbol.iterator]()}},{key:"forEach",value:function(e){this.messages.forEach(e)}},{key:"get",value:function(t){var n=new e,a=!0,s=!1,i=void 0;try{for(var r,o=this[Symbol.iterator]();!(a=(r=o.next()).done);a=!0){var u=r.value;u.is(t)&&n.addMessage(u)}}catch(l){s=!0,i=l}finally{try{!a&&o["return"]&&o["return"]()}finally{if(s)throw i}}return n}},{key:"toString",value:function(){var e="",t=!0,n=!1,a=void 0;try{for(var s,i=this.messages[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var r=s.value;e+=r.toString()}}catch(o){n=!0,a=o}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw a}}return e}}]),e}();Messages.Details=function(){function e(){_classCallCheck(this,e),this.patch=e.NULL,this.effect=e.NULL,this.param=e.NULL,this.value=e.NULL}return _createClass(e,[{key:"toString",value:function(){var t="";return this.patch!=e.NULL&&(t+=" patch="+this.patch),this.effect!=e.NULL&&(t+=" effect="+this.effect),this.param!=e.NULL&&(t+=" param="+this.param),this.value!=e.NULL&&(t+=" value="+this.value),t}}],[{key:"NULL",value:-1,enumerable:!0}]),e}(),Messages.Message=function(){function e(t,n){_classCallCheck(this,e),void 0===n?this._MessageCause(t):this._MessageCauseDetails(t,n)}return _createClass(e,[{key:"_MessageCause",value:function(e){this._MessageCauseDetails(e,new Details)}},{key:"_MessageCauseDetails",value:function(e,t){this.cause=e,this.details=t}},{key:"details",value:function(){return this.details}},{key:"is",value:function(e){return this.cause==e}},{key:"toString",value:function(){var e=this.cause+": ("+this.details+")";return e}}]),e}();var Effect=function(){function e(t,n){_classCallCheck(this,e),this.state=!1,this.params=new Array,this.listenner=Optional.empty(),this.midiId=t,this.name=n}return _createClass(e,[{key:"getMidiId",value:function(){return this.midiId}},{key:"getName",value:function(){return this.name}},{key:"active",value:function(){this.setState(!0)}},{key:"disable",value:function(){this.setState(!1)}},{key:"toggle",value:function(){this.hasActived()?this.disable():this.active()}},{key:"setState",value:function(e){this.state=e;var t=new Details(Details.TypeChange.PEDAL_STATUS,e?1:0),n=new ChangeMessage(MultistompCause.EFFECT,this,t);this.notify(n)}},{key:"hasActived",value:function(){return this.state}},{key:"addParam",value:function(e){this.params.push(e),e.setListenner(this)}},{key:"toString",value:function(){var t=this.name+": "+this.midiId+" "+e.name+" - ";t+=this.state?"Actived":"Disabled";var n=!0,a=!1,s=void 0;try{for(var i,r=this.params[Symbol.iterator]();!(n=(i=r.next()).done);n=!0){var o=i.value;t+=o.toString()}}catch(u){a=!0,s=u}finally{try{!n&&r["return"]&&r["return"]()}finally{if(a)throw s}}return t+=")"}},{key:"setListenner",value:function(e){this.listenner=Optional.of(e)}},{key:"onChange",value:function(e){var t=new ChangeMessage(MultistompCause.SUPER,this,e);this.notify(t)}},{key:"notify",value:function(e){this.listenner.isPresent()&&this.listenner.get().onChange(e)}}]),e}(),Multistomp=function(){function e(){_classCallCheck(this,e),this.listenners=new Array,this.patchs=new Array,this.idCurrentPatch=0}return _createClass(e,[{key:"getPedalType",value:function(){}},{key:"addPatch",value:function(e){this.patchs.push(e),e.setListenner(this)}},{key:"currentPatch",value:function(){try{return this.patchs[this.idCurrentPatch]}catch(e){throw new ImplemetationError("This multistomp havent any Patch. \nAdd the Patchs in the Pedal Construtor: "+this.name)}}},{key:"getIdCurrentPatch",value:function(){return this.idCurrentPatch}},{key:"nextPatch",value:function(){this.toPatch(this.idCurrentPatch+1)}},{key:"beforePatch",value:function(){this.toPatch(this.idCurrentPatch-1)}},{key:"toPatch",value:function(e){e>=this.patchs.length?e=0:0>e&&(e=this.patchs.length-1),this.idCurrentPatch=e;var t=new Details(Details.TypeChange.PATCH_NUMBER,this.idCurrentPatch),n=new ChangeMessage(MultistompCause.MULTISTOMP,this,t);this.notify(n)}},{key:"patchs",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return patchs})},{key:"toString",value:function(){var t="";t+="Multistomp: "+e.name+"\n",t+=" - Current Patch: "+this.currentPatch().toString()+"\n",t+=" - Effects: \n";var n=!0,a=!1,s=void 0;try{for(var i,r=this.currentPatch().effects[Symbol.iterator]();!(n=(i=r.next()).done);n=!0){var o=i.value;t+="  |- "+o.toString()+"\n"}}catch(u){a=!0,s=u}finally{try{!n&&r["return"]&&r["return"]()}finally{if(a)throw s}}return t}},{key:"addListenner",value:function(e){this.listenners.push(e)}},{key:"listenners",value:function(){return this.listenners}},{key:"onChange",value:function(e){var t=new ChangeMessage(MultistompCause.SUPER,this,e);this.notify(t)}},{key:"notify",value:function(e){var t=MultistompMessagesConverter.convert(e);this.listenners.forEach(function(e){return e.onChange(t)})}},{key:"start",value:function(){}}]),e}(),MultistompMessagesConverter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"convert",value:function(e){var t=null,n=new Messages.Details;return e.is(MultistompCause.MULTISTOMP)?t=this.convertToPatch(e,n):e.is(MultistompCause.PATCH)?t=this.convertPatch(e,n):e.is(MultistompCause.EFFECT)?t=this.convertStatusEffect(e,n):e.is(MultistompCause.PARAM)&&(t=this.convertSetParam(e,n)),null!=t?Messages.For(t):Messages.For()}},{key:"convertToPatch",value:function(e,t){return t.patch=e.causer.getIdCurrentPatch(),new Messages.Message(CommonCause.TO_PATCH,t)}},{key:"convertPatch",value:function(e,t){return!t.type==Details.TypeChange.PATCH_NAME?Messages.Empty():(t.value=e.realMessage().details.newValue,new Messages.Message(CommonCause.PATCH_NAME,t))}},{key:"convertStatusEffect",value:function(e,t){var n=e.nextMessage.causer;t.patch=e.causer.patchs.indexOf(n);var a=e.realMessage().causer,s=n.effects.indexOf(a);t.effect=s;var i=a.hasActived()?CommonCause.ACTIVE_EFFECT:CommonCause.DISABLE_EFFECT;return new Messages.Message(i,t)}},{key:"convertSetParam",value:function(e,t){var n=e.nextMessage.causer,a=e.nextMessage.nextMessage.causer,s=n.effects.indexOf(a);return t.effect=s,t.param=a.params.indexOf(e.realMessage().causer),t.value=e.realMessage().causer.getValue(),new Messages.Message(CommonCause.SET_PARAM,t)}}]),e}(),Param=function(){function e(t,n,a,s,i){_classCallCheck(this,e),this.stepByStep=1,this.listenner=Optional.empty(),this.name=t,this.minValue=n,this.maxValue=a,this.setCurrentValue(s),this.stepByStep=i}return _createClass(e,[{key:"setCurrentValue",value:function(e){this.isValidValue(e)||(e=e>this.maxValue?this.maxValue:this.minValue),this.currentValue=e;var t=new Details(Details.TypeChange.PARAM,this.currentValue),n=new ChangeMessage(MultistompCause.PARAM,this,t);this.notify(n)}},{key:"isValidValue",value:function(e){return!(e<this.minValue||e>this.maxValue)}},{key:"notify",value:function(e){this.listenner.isPresent()&&this.listenner.get().onChange(e)}},{key:"getName",value:function(){return this.name}},{key:"getValue",value:function(){return this.currentValue}},{key:"setValue",value:function(e){this.setCurrentValue(e)}},{key:"addValue",value:function(){var e=this.currentValue+this.stepByStep;this.isValidValue(e)&&this.setValue(e)}},{key:"getMinValue",value:function(){return this.minValue}},{key:"getMaxValue",value:function(){return this.maxValue}},{key:"setListenner",value:function(e){this.listenner=Optional.of(e)}},{key:"toString",value:function(){return this.name+" = "+this.currentValue+" ["+this.minValue+" - "+this.maxValue+"]"}}]),e}(),Patch=function(){function e(t){_classCallCheck(this,e),this.patchName="",this.effects=new Array,this.listenner=Optional.empty(),this.id=t}return _createClass(e,[{key:"getId",value:function(){return id}},{key:"addEffect",value:function(e){this.effects.push(e),e.setListenner(this)}},{key:"setListenner",value:function(e){this.listenner=Optional.of(e)}},{key:"onChange",value:function(e){var t=new ChangeMessage(MultistompCause.SUPER,this,e);this.notify(t)}},{key:"notify",value:function(e){this.listenner.isPresent()&&this.listenner.get().onChange(e)}},{key:"toString",value:function(){return"Patch "+this.id+" - "+this.name+" ("+this.effects.length+") Effect(s))"}},{key:"name",get:function(){return this.patchName},set:function(e){this.patchName=e;var t=new Details(Details.TypeChange.PATCH_NAME,this.patchName),n=new ChangeMessage(MultistompCause.PATCH,this,t);this.notify(n)}}]),e}(),ChangeMessage=function(){function e(t,n,a){_classCallCheck(this,e),this.nextMessage=null,a instanceof e?this._constructorMessage(t,n,a):this._constructorDetails(t,n,a)}return _createClass(e,null,[{key:"None",value:function(t){return new e<Multistomp>(MultistompCause.NONE,Details.NONE())}},{key:"For",value:function(t,n){return new e<Multistomp>(MultistompCause.MULTISTOMP,n)}},{key:"For",value:function(t,n,a){var s=new e<Patch>(MultistompCause.PATCH,a),i=new e<Multistomp>(MultistompCause.SUPER,s);return i}},{key:"For",value:function(t,n,a,s){var i=new e<Effect>(MultistompCause.EFFECT,s),r=new e<Patch>(MultistompCause.SUPER,i),o=new e<Multistomp>(MultistompCause.SUPER,r);return o}},{key:"For",value:function(t,n,a,s,i){var r=new e<Param>(MultistompCause.PARAM,i),o=new e<Effect>(MultistompCause.SUPER,r),u=new e<Patch>(MultistompCause.SUPER,o),l=new e<Multistomp>(MultistompCause.SUPER,u);return l}}]),_createClass(e,[{key:"_constructorMessage",value:function(e,t,n){this._constructorDetails(e,t,Details.NONE()),this.nextMessage=n}},{key:"_constructorDetails",value:function(e,t,n){this.cause=e,this.causer=t,this.details=n}},{key:"details",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return details})},{key:"is",value:function(e){return e===this.realMessage().cause}},{key:"realMessage",value:function(){for(var e=this;e.cause==MultistompCause.SUPER;)e=e.nextMessage;return e}},{key:"toString",value:function(){var e="";return e+=this.causer.getClass().getSimpleName(),e+=this.cause==MultistompCause.SUPER?" -> "+this.nextMessage.toString():" ("+this.cause.toString()+")"}}]),e}(),Details=function(){function e(t,n){_classCallCheck(this,e),this.type=t,this.newValue=n}return _createClass(e,null,[{key:"NONE",value:function(){return new e(e.TypeChange.NONE,0)}}]),_createClass(e,[{key:"newValue",value:function(){return this.newValue}},{key:"type",value:function(){return this.type}},{key:"toString",value:function(){return"("+this.type+" "+this.newValue+")"}}]),e}();Details.TypeChange={NONE:"NONE",PEDAL_STATUS:"PEDAL_STATUS",PARAM:"PARAM",PATCH_NUMBER:"PATCH_NUMBER",PATCH_NAME:"PATCH_NAME"};var MultistompCause=function a(){_classCallCheck(this,a)};MultistompCause.SUPER="SUPER",MultistompCause.NONE="NONE",MultistompCause.MULTISTOMP="MULTISTOMP",MultistompCause.PATCH="PATCH",MultistompCause.EFFECT="EFFECT",MultistompCause.PARAM="PARAM";var Log=function(){function e(t){_classCallCheck(this,e),this.type=t}return _createClass(e,[{key:"onChange",value:function(e){var t=!0,n=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var r=s.value;console.info("LOG:: "+this.type),console.log("LOG:: "+r.toString())}}catch(o){n=!0,a=o}finally{try{!t&&i["return"]&&i["return"]()}finally{if(n)throw a}}}}]),e}(),MultistompSimulator=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);for(var n=0;e>n;n++){var a=new Patch(n),s=!0,i=!1,r=void 0;try{for(var o,u=this.genEffects()[Symbol.iterator]();!(s=(o=u.next()).done);s=!0){var l=o.value;a.addEffect(l)}}catch(c){i=!0,r=c}finally{try{!s&&u["return"]&&u["return"]()}finally{if(i)throw r}}this.addPatch(a)}}return _inherits(t,e),_createClass(t,[{key:"genEffects",value:function(){var e=new Array;return e.push(this.genEffect(0,"Overdrive")),e.push(this.genEffect(1,"Reverb")),e.push(this.genEffect(2,"Chorus")),e}},{key:"genEffect",value:function(e,t){var n=new Effect(e,t);return n.addParam(new Param("Gain",0,50,0,1)),n.addParam(new Param("Volume",0,25,0,1)),n}},{key:"start",value:function(){return Messages.Empty();

}},{key:"getPedalType",value:function(){return PedalType.Null}}]),t}(Multistomp),NullMultistomp=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.MSG_ERROR="Pedal Unknown is unimplemented",this.addPatch(new Patch(0)),console.log(this.MSG_ERROR)}return _inherits(t,e),_createClass(t,[{key:"getPedalType",value:function(){return PedalType.Null}},{key:"start",value:function(){return Messages.Empty()}}]),t}(Multistomp),ZoomMultistompFactory=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"generate",value:function(e){return e==PedalType.G2Nu?new ZoomG2Nu:e==PedalType.G3?new ZoomGSeries(100,6,8):new ZoomGSeries(0,5,9)}}]),e}(),ZoomGSeries=function(e){function t(e,n,a){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.TOTAL_PATCHS=e,this.TOTAL_EFFECTS=n,this.SIZE_PARAMS=a;var s=this.createPatchs(this.TOTAL_PATCHS),i=!0,r=!1,o=void 0;try{for(var u,l=s[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=u.value;this.addPatch(c)}}catch(h){r=!0,o=h}finally{try{!i&&l["return"]&&l["return"]()}finally{if(r)throw o}}}return _inherits(t,e),_createClass(t,[{key:"createPatchs",value:function(e){for(var t=new Array,n=0;e>n;n++){var a=new Patch(n),s=!0,i=!1,r=void 0;try{for(var o,u=this.createEffects(this.TOTAL_EFFECTS)[Symbol.iterator]();!(s=(o=u.next()).done);s=!0){var l=o.value;a.addEffect(l)}}catch(c){i=!0,r=c}finally{try{!s&&u["return"]&&u["return"]()}finally{if(i)throw r}}t.push(a)}return t}},{key:"createEffects",value:function(e){for(var t=new Array,n=0;e>n;n++)t.push(ZoomGSeriesEffect.COMP.generate());return t}},{key:"start",value:function(){var e=Messages.Empty();return e.concatWith(ZoomGSeriesMessages.LISSEN_ME()),e.concatWith(ZoomGSeriesMessages.YOU_CAN_TALK()),e}},{key:"getPedalType",value:function(){return PedalType.G3}}]),t}(Multistomp),ZoomGSeriesCause=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),t}(CommonCause);ZoomGSeriesCause.REQUEST_CURRENT_PATCH_NUMBER="REQUEST_CURRENT_PATCH_NUMBER",ZoomGSeriesCause.REQUEST_CURRENT_PATCH_DETAILS="REQUEST_CURRENT_PATCH_DETAILS",ZoomGSeriesCause.REQUEST_SPECIFIC_PATCH_DETAILS="REQUEST_SPECIFIC_PATCH_DETAILS",ZoomGSeriesCause.LISSEN_ME="LISSEN_ME",ZoomGSeriesCause.YOU_CAN_TALK="YOU_CAN_TALK",ZoomGSeriesCause.SET_EFFECT="SET_EFFECT";var ZoomGSeriesEffect=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"COMP",value:new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"generate",value:function(){var e=new Effect(0,this.constructor.name);return e.addParam(new Param("Sense",0,10,6,1)),e.addParam(new Param("Tone",0,10,6,1)),e.addParam(new Param("Level",0,150,100,1)),e.addParam(new Param("ATTCK",0,1,0,1)),e}}]),e}()),enumerable:!0}]),e}(),ZoomGSeriesMessageDecoder=function(){function e(){_classCallCheck(this,e),this.decoders=new Array,this.decoders.push(new ZoomGSeriesNameDecoder),this.decoders.push(new ZoomGSeriesPatchDecoder),this.decoders.push(new ZoomGSeriesSelectPatchDecoder)}return _createClass(e,[{key:"isForThis",value:function(e){return this.decodesFor(e).length>0}},{key:"decode",value:function(e,t){var n=this.decodesFor(e),a=Messages.Empty();if(n.forEach(function(n){return a.concatWith(n.decode(e,t))}),0==n.length)throw new Error("The message isn't for this implementation");return a}},{key:"decodesFor",value:function(e){var t=new Array,n=!0,a=!1,s=void 0;try{for(var i,r=this.decoders[Symbol.iterator]();!(n=(i=r.next()).done);n=!0){var o=i.value;o.isForThis(e)&&t.push(o)}}catch(u){a=!0,s=u}finally{try{!n&&r["return"]&&r["return"]()}finally{if(a)throw s}}return t}}]),e}(),ZoomGSeriesMessageEncoder=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encode",value:function(e){var t=this,n=new Array;return e.get(CommonCause.TO_PATCH).forEach(function(e){return n.push(t.toPatch(e))}),e.get(CommonCause.ACTIVE_EFFECT).forEach(function(e){var a=t.statusEffect(e,CommonCause.ACTIVE_EFFECT);a.forEach(function(e){return n.push(e)})}),e.get(CommonCause.DISABLE_EFFECT).forEach(function(e){var a=t.statusEffect(e,CommonCause.DISABLE_EFFECT);a.forEach(function(e){return n.push(e)})}),e.get(CommonCause.SET_PARAM).forEach(function(e){return n.push(t.setParam(e))}),e.get(ZoomGSeriesCause.SET_EFFECT).forEach(function(e){return n.push(t.setEffect(e))}),e.get(ZoomGSeriesCause.REQUEST_CURRENT_PATCH_NUMBER).forEach(function(e){return n.push(t.requestCurrentPatchNumber(e))}),e.get(ZoomGSeriesCause.REQUEST_CURRENT_PATCH_DETAILS).forEach(function(e){return n.push(t.requestCurrentPatchDetails(e))}),e.get(ZoomGSeriesCause.REQUEST_SPECIFIC_PATCH_DETAILS).forEach(function(e){return n.push(t.requestSpecificPatchDetails(e))}),e.get(ZoomGSeriesCause.LISSEN_ME).forEach(function(e){return n.push(t.lissenMe())}),e.get(ZoomGSeriesCause.YOU_CAN_TALK).forEach(function(e){return n.push(t.youCanTalk())}),n}},{key:"toPatch",value:function(e){var t=192,n=e.details.patch;try{return[t,n]}catch(a){throw new Error(a)}}},{key:"statusEffect",value:function(t,n){var a=t.details.effect,s=n==CommonCause.ACTIVE_EFFECT,i=s?1:0;return this.group(this.lissenMe(),this.manupuleEffect(a,e.SET_STATUS,i))}},{key:"setParam",value:function(t){var n=t.details.effect,a=t.details.param,s=t.details.value;return this.manupuleEffect(n,a+e.PARAM_EFFECT,s)}},{key:"setEffect",value:function(t){var n=t.details.effect,a=t.details.value;return this.manupuleEffect(n,e.CHANGE_EFFECT,a)}},{key:"manupuleEffect",value:function(e,t,n){var a=n/128|0;return n%=128,this.customMessageFor([240,82,0,90,49,e,t,n,a,247])}},{key:"requestCurrentPatchNumber",value:function(e){return this.customMessageFor([240,82,0,90,51,247])}},{key:"requestCurrentPatchDetails",value:function(e){return this.customMessageFor([240,82,0,90,41,247])}},{key:"requestSpecificPatchDetails",value:function(e){var t=e.details.patch,n=[240,82,0,90,9,0,0,t,247];return this.customMessageFor(n)}},{key:"lissenMe",value:function(){return this.customMessageFor([240,82,0,90,80,247])}},{key:"youCanTalk",value:function(){return this.customMessageFor([240,82,0,90,22,247])}},{key:"group",value:function(){var e=new Array,t=!0,n=!1,a=void 0;try{for(var s=arguments.length,i=Array(s),r=0;s>r;r++)i[r]=arguments[r];for(var o,u=i[Symbol.iterator]();!(t=(o=u.next()).done);t=!0){var l=o.value;e.push(l)}}catch(c){n=!0,a=c}finally{try{!t&&u["return"]&&u["return"]()}finally{if(n)throw a}}return e}},{key:"customMessageFor",value:function(e){try{return e}catch(t){throw new Error(t)}}}],[{key:"SET_STATUS",value:0,enumerable:!0},{key:"CHANGE_EFFECT",value:1,enumerable:!0},{key:"PARAM_EFFECT",value:2,enumerable:!0}]),e}(),ZoomGSeriesMessages=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"REQUEST_CURRENT_PATCH_NUMBER",value:function(){return Messages.For(new Messages.Message(ZoomGSeriesCause.REQUEST_CURRENT_PATCH_NUMBER))}},{key:"REQUEST_CURRENT_PATCH_DETAILS",value:function(){return Messages.For(new Messages.Message(ZoomGSeriesCause.REQUEST_CURRENT_PATCH_DETAILS))}},{key:"REQUEST_SPECIFIC_PATCH_DETAILS",value:function(e){var t=new Messages.Details;return t.patch=e,Messages.For(new Messages.Message(ZoomGSeriesCause.REQUEST_SPECIFIC_PATCH_DETAILS,t))}},{key:"LISSEN_ME",value:function(){return Messages.For(new Messages.Message(ZoomGSeriesCause.LISSEN_ME))}},{key:"YOU_CAN_TALK",value:function(){return Messages.For(new Messages.Message(ZoomGSeriesCause.YOU_CAN_TALK))}},{key:"SET_EFFECT",value:function(e,t){var n=new Messages.Details;return n.effect=e,n.value=t,Messages.For(new Messages.Message(ZoomGSeriesCause.SET_EFFECT,n))}}]),e}(),AbstractZoomGSeriesPatchDecoder=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isForThis",value:function(e){var t=new MidiMessageTester(e);return t.init().sizeIs(this.size()).test()}},{key:"size",value:function(){}},{key:"decode",value:function(e,t){for(var n=this.patches(),a=t.currentPatch().effects,s=Messages.Empty(),i=0;i<n.length;i++){var r=n[i],o=this.hasActived(e,r);(this.refressAll()||o&&!a.get(i).hasActived())&&s.addMessage(this.generateMessageFor(o,i))}return s}},{key:"refressAll",value:function(){}},{key:"patches",value:function(){}},{key:"generateMessageFor",value:function(e,t){var n=e?CommonCause.ACTIVE_EFFECT:CommonCause.DISABLE_EFFECT,a=new Messages.Details;return a.effect=t,new Messages.Message(n,a)}},{key:"hasActived",value:function(e,t){var n=1,a=e[t]&n;return 1==a}}]),e}(),ZoomGSeriesNameDecoder=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isForThis",value:function(e){var t=new MidiMessageTester(e),n=t.init().sizeIs(120).test(),a=!1;return n||a}},{key:"decode",value:function(t,n){for(var a=new Messages.Details,s=e.FIRST_LETTER,i=e.LAST_LETTER,r="",o=s;i>o;o++){var u=t[o];r+=String.fromCharCode(u)}return a.value=r,Messages.For(new Messages.Message(CommonCause.PATCH_NAME,a))}}],[{key:"FIRST_LETTER",value:102,enumerable:!0},{key:"LAST_LETTER",value:113,enumerable:!0}]),e}(),ZoomGSeriesPatchDecoder=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"decode",value:function(e,n){var a=_get(Object.getPrototypeOf(t.prototype),"decode",this).call(this,e,n),s=e[t.PATCH];return a.forEach(function(e){return e.details.patch=s}),a}},{key:"size",value:function(){return 120}},{key:"patches",value:function(){return[11,24,38,52,65,79]}},{key:"refressAll",value:function(){return!0}}],[{key:"PATCH",value:7,enumerable:!0}]),t}(AbstractZoomGSeriesPatchDecoder),ZoomGSeriesSelectPatchDecoder=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isForThis",value:function(e){var t=[192],n=new MidiMessageTester(e);return n.init().sizeIs(2).startingWith(t).test()}},{key:"decode",value:function(t,n){var a=new Messages.Details;return a.patch=t[e.PATCH],Messages.For(new Messages.Message(CommonCause.TO_PATCH,a))}}],[{key:"PATCH",value:1,enumerable:!0}]),e}();